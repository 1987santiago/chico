<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Layer - TestCases</title>
	<link rel="stylesheet" type="text/css" href="../php/css.php?q=base,forms,dropdown,layer,modal,tabNavigator,tooltip,carousel,validator">
	<link href="../libs/css/qunit.css" rel="stylesheet">
</head>
<body>

<!-- #body -->
	<h1>Chico-UI: Layer testcases</h1>
    <hr />	
	<p class="box">
		<span class="testLayerClick">Layer ejecutado en el clic.</span>
	</p>

	<p class="box">
		<span class="testLayerHover">Layer ejecutado en el hover.</span>
	</p>
<!-- #body -->	
	<br>
	
	<hr>
	<h1 id="qunit-header">QUnit Test Suite</h1>
	<h2 id="qunit-banner"></h2>
	<div id="qunit-testrunner-toolbar"></div>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	<div id="qunit-fixture">test markup</div>

	<script src="../libs/js/jquery.js"></script>
	<script src="../libs/js/qunit.js"></script>
	<script src="../php/chico.php?get=layer&debug=true"></script>
	<script src="functions.js"></script>
	
<!-- #script -->
	<script>
		$('.testLayerClick').layer({
			event: 'click',
			content: {
				type:'param',
				data:'<h2>Layer ejecutado onMouseClick</h2><ul><li>Se cierra clickeando en el trigger, en el body y en el close</li></ul></p>'
			}
		});
		
		$('.testLayerHover').layer({
			content:{
				type:'param',
				data:'<h2>Layer ejecutado onMouseOver</h2><ul><li>Se cierra onMouseOut</li></ul></p>'
			}			
		});

		
		$.fx.off = true;

		/**
		 * 	Test Cases
		 */
		

		module('Layer executed on click, Tests');		
		
		test('Check for basic interaction: show and hide component', function(){
			notExists('.ui-layer');
			
			$('.testLayerClick').click();
			exists('.ui-layer');
			exists('.ui-layer-trigger');
			exists('.ui-layer-content');
				
			isVisible('.ui-layer');
			isVisible('.ui-layer-trigger');
			isVisible('.ui-layer-content');
			
			$('body').click();
			notExists('.ui-layer');
			notExists('.ui-layer-trigger');
			notExists('.ui-layer-content');			
		});
		
		test('Check for close button interaction', function(){
			$('.testLayerClick').click();
			
			exists('.ui-layer-content .close');				
			$('.ui-layer .close').click();
			
			notExists('.ui-layer');
			notExists('.ui-layer-trigger');
			notExists('.ui-layer-content');						
		});
		
		test('Check for click content interaction', function(){
			$('.testLayerClick').click();
			
			$('.uiLayer .uiContent').click();
			exists('.ui-layer');
			exists('.ui-layer-trigger');
			exists('.ui-layer-content');
			
			$('body').click();			

		});
		
		test('Check for the right visual elements', function(){					
			$('.testLayerClick').click();
			exists('.ui-layer-content .close');
			exists('.ui-layer-content .cone');
			$('body').click();
		});
		
		
		module('Layer execute on hover, Tests');
		
		test('Check for basic interaction', function(){			
			notExists('.ui-layer');
			
			$('.testLayerHover').mouseover();
			exists('.ui-layer');
			exists('.ui-layer-trigger');
			exists('.ui-layer-content');		
			
			isVisible('.ui-layer');
			isVisible('.ui-layer-trigger');
			isVisible('.ui-layer-content');
			
			$('.testLayerHover').mouseout();			
			notExists('.ui-layer');
			notExists('.ui-layer-trigger');
			notExists('.ui-layer-content');	
		});
		
	</script>

</body>
</html>
