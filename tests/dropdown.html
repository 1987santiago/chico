<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Dropdown - TestCases</title>
	<link rel="stylesheet" type="text/css" href="../php/css.php?q=base,forms,dropdown,layer,modal,tabNavigator,tooltip,carousel,validator">
	<link href="../libs/css/qunit.css" rel="stylesheet">
</head>
<body>

<!-- #body -->
	<h1>Chico-UI: Dropdown testcases</h1>
    <hr />
	<div class="testDropdown">
		<span>Buscadores</span>
		<ul>
			<li><a href="http://www.google.com.ar">Google</a></li>
			<li><a href="http://www.yahoo.com.ar">Yahoo</a></li>
			<li><a href="http://www.bing.com">Bing</a></li>	
		</ul>
	</div>
<!-- #body -->
	<hr>

	<h1 id="qunit-header">QUnit Test Suite</h1>
	<h2 id="qunit-banner"></h2>
	<div id="qunit-testrunner-toolbar"></div>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	<div id="qunit-fixture">test markup</div>

	<script src="../libs/js/jquery.js"></script>
	<script src="../libs/js/qunit.js"></script>
	<script src="../php/chico.php?get=dropdown&debug=true"></script>
	<script src="functions.js"></script>
	
<!-- #script -->
	<script>

		$('.testDropdown').dropdown();
		
		$.fx.off = true;

		/**
		 * 	Test Cases
		 */

		module('Dropdown Tests');

		var $trigger = $('.testDropdown').children(':first');
		var $content = $trigger.next();

		test('Check for the right visual classes', function(){
			hasClass('.testDropdown', 'ui-dropdown');
			hasClass($trigger, 'ui-dropdown-trigger');
			hasClass($content, 'ui-dropdown-content');
			hasClass($trigger.find('span'), 'down');
		});

		test('Opens dropdown menu', function(){
			isNotVisible($content);
			
			$trigger.click();
			
			isVisible($content);
			hasClass($trigger, 'on');
		});
		
		test('Closes dropdown menu, clicking on body', function(){
			$trigger.click();
			$('body').click();
			
			isNotVisible($content);
			hasNotClass($trigger, 'on');
		});
		
		test('Closes dropdown menu, clicking on component trigger', function(){
			$trigger.click();
			$trigger.click();
			
			isNotVisible($content);
			hasNotClass($trigger, 'on');
		});
		
		test('Click inside content', function(){
			$trigger.click();
			$content.click();
			
			isVisible($content);
			hasClass($trigger, 'on');
			
			$trigger.click();
		});
		
		test('Click on content link', function(){
			$trigger.click();
			$content.find('a').click();
			
			isNotVisible($content);
			hasNotClass($trigger, 'on');
			
			$trigger.click();
		});
	</script>

</body>
</html>
