<!doctype html>
<html>
<head>
<title>Tests</title>
<script type="text/javascript" src="../src/js/jquery.js"></script>
<script type="text/javascript" src="../src/js/qunit.js"></script>
<script type="text/javascript" src="../src/js/mlui.js"></script>
<link href="../src/css/base.css" rel="stylesheet" type="text/css">
<link href="../src/css/qunit.css" rel="stylesheet" type="text/css">
</head>
<body>

<h1>Tests para Chico-UI</h1>

<div class="search-nav">
<span>Algo</span>
<ul>
	<li><a href="http://www.google.com.ar">Google</a></li>
	<li><a href="http://www.yahoo.com.ar">Yahoo</a></li>
	<li><a href="http://www.bing.com">Bing</a></li>	
</ul>

<hr>

</div>
	<h1 id="qunit-header">QUnit Test Suite</h1>
	<h2 id="qunit-banner"></h2>
	<div id="qunit-testrunner-toolbar"></div>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	<div id="qunit-fixture">test markup</div>
<script>

var drop = $(".search-nav").dropdown();


/**
 * Dropdown Test Cases
 */

module("Dropdowns Tests");

test("Check for the right visual classes",function(){

	ok( $(".search-nav").hasClass("uiDropdown") , "Wrapper should has class uiDropdown");
	ok( $(".search-nav").children(":first").hasClass("uiTrigger") , "Trigger should has class uiTrigger");
	ok( $(".search-nav").children(":first").next().hasClass("uiContent") , "Content should has class uiContent");
	
});

test("Check for basic interation, clicking on the component and body",function(){

	// Check the display property
	
	// State before click trigger
	var first_state = $(".search-nav").children(":first").next().css("display");
	equal( first_state , "none" , "Content should be hide before click trigger");

	// State after click trigger
	$(".search-nav").children(":first").trigger("click");
	var actual = $(".search-nav").children(":first").next().css("display");
	equal( actual , "block" , "Content should be show after click trigger");	
	
	$("body").trigger("click");
	var final_state = $(".search-nav").children(":first").next().css("display");
	equal( final_state , "none" , "Content should be hide after click body");	
});


test("Check for basic interation, clicking on the component and component again",function(){

	// Check the display property
	
	// State before click trigger
	var first_state = $(".search-nav").children(":first").next().css("display");
	equal( first_state , "none" , "Content should be hide before click trigger");

	// State after click trigger
	$(".search-nav").children(":first").trigger("click");
	var actual = $(".search-nav").children(":first").next().css("display");
	equal( actual , "block" , "Content should be show after click trigger");	
	
	$(".search-nav").children(":first").trigger("click");
	var final_state = $(".search-nav").children(":first").next().css("display");
	equal( final_state , "none" , "Content should be hide after click trigger again");	
});

test("Check for advanced interation, clicking on the component and content link",function(){

	// Check the display property
	
	// State before click trigger
	var first_state = $(".search-nav").children(":first").next().css("display");
	equal( first_state , "none" , "Content should be hide before click trigger");

	// State after click trigger
	$(".search-nav").children(":first").trigger("click");
	var actual = $(".search-nav").children(":first").next().css("display");
	equal( actual , "block" , "Content should be show after click trigger");	
	
	$(".search-nav").find("a").trigger("click");
	var final_state = $(".search-nav").children(":first").next().css("display");
	equal( final_state , "none" , "Content should be hide after click on content link");	
});

test("Check for advanced interation, clicking on the component and content",function(){

	// Check the display property
	
	// State before click trigger
	var first_state = $(".search-nav").children(":first").next().css("display");
	equal( first_state , "none" , "Content should be hide before click trigger");

	// State after click trigger
	$(".search-nav").children(":first").trigger("click");
	var actual = $(".search-nav").children(":first").next().css("display");
	equal( actual , "block" , "Content should be show after click trigger");	
	
	$(".search-nav").children(":first").next().trigger("click");
	var final_state = $(".search-nav").children(":first").next().css("display");
	equal( final_state , "block" , "Content shouldn't be hide after click on content");	
});



</script>

</body>
</html>
