<!doctype html>
<!--[if IE]><![endif]-->
<!--[if lt IE 7 ]> <html lang="es" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="es" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="es" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="es" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="es" class="no-js"> <!--<![endif]-->
<head>
        <script></script> <!-- Avoid script blocking -->
        <meta charset="utf-8">
        <title>Number extends Watcher</title>
        <link rel="stylesheet" href="../../../build/chico-min-0.5.5.css"> <!-- Chico-UI Core Style Sheet -->
        <link rel="stylesheet" href="../../docs.css">
        <link rel="stylesheet" href="../../../src/css/grid.css">
        <!--[if lt IE 7 ]>
            <script src="../../libs/js/dd_belatedpng.js"></script>
            <script> DD_belatedPNG.fix('img, .ico'); //fix any <img> or .ico background-images </script>
        <![endif]-->
        <script src="../../../libs/js/jquery.js"></script>
		<script src="../../../build/chico-min-0.5.5.js"></script>
    </head>
<body>

<h1>Number</h1>

<div class="sourceTabs">
	<ul>
		<li><a href="#demo">Demo</a></li>
		<li><a href="#html">HTML</a></li>
		<li><a href="#js">JavaScript</a></li>
	</ul>
	<div>
		<div id="demo">

<form action="test.html" class="demoForm">
    <fieldset>
        <ol>
            <li class="fieldBox">
                <label class="required" for="val_num">
                    <span>Rango: <em>*</em></span>                                                  
                    <input type="email" id="val_num" required="required">
                </label>
                <p class="help">Escribe una descripción corta y clara</p>
            </li>
        </ul>
    </fieldset>
            
    <p class="actions">
        <input type="submit" value="Enviar" class="btn primary">
        <a href="#">Cancelar</a>
    </p>
</form>

		</div>
		
		<div id="html">
			<code>
				<pre name="code" class="xml">
<form action="test.html" class="demoForm">
    <fieldset>
        <ol>
            <li class="fieldBox">
                <label class="required" for="val_num">
                    <span>Rango: <em>*</em></span>                                                  
                    <input type="email" id="val_num" required="required">
                </label>
                <p class="help">Escribe una descripción corta y clara</p>
            </li>
        </ul>
    </fieldset>
            
    <p class="actions">
        <input type="submit" value="Enviar" class="btn primary">
        <a href="#">Cancelar</a>
    </p>
</form></pre>
			</code>
		</div>
		
		<div id="js">
			<code>
				<pre name="code" class="js">
// Define a Form Controller
var form = $('.demoForm').forms({
    messages: {
        required: "Default message for required validation",
        min: "Default message for min validation",
        max: "Default message for max validation"
    }
});
var email = $('#val_num')
            .min(13,"No less than 13.")
            .and()
            .max(20)
            .and()
            .required();</pre>
			</code>
		</div>
	</div>
</div>


    
<h2>Cómo se usa</h2>

<p>El objeto Number es un componente dentro de la familia <a href="watcher.html" lang="en">Watcher</a> donde se pueden definir algunas validaciones preformateadas de números. Recibe como argumento un objeto de propiedades que definen los tipos de validaciones y algunos aspecto de su comportamiento como los <em lang="en">callbacks</em>.</p>

<p>Este componente extiende su funcionalidad del componente Watcher (al igual que <a href="string.html">String</a> y <a href="required.html">Required</a>).</p>

<p><em>Nota:</em> Es recomendable instanciar un objeto <a href="form.html" lang="en">Form</a> antes de configurar componentes de la familia <a href="watcher.html" lang="en">Watcher</a>.</p>

<p>Realizando una selección con jQuery podemos iniciar el componente de la siguiente forma:</p>

<code>
	<pre name="code" class="js">
$(".foo").number({
    number: true,
    min: 13
    messages:{
        number: "This field must be a valid number.",
        min: "The value must be grater than 13."
    }
});</pre>
</code>

<h2>Configuración</h2>

<p>La mayoría de los componentes pueden recibir parámetros de configuración, que modifican el comportamiento por defecto.</p>

<p>Objeto de configuración:</p>

<code>
	<pre name="code" class="js">
{
    number: boolean,                    //  Configure a number validation
    min: int,                           //  Configure a minimun validation
    max: int,                           //  Configure a maximun validation
    messages: {                         //  Messages Map
        number: string,
        min: string,
        max: string
    },
    beforeValidate: function() {}       //  Callback before validate
    afterValidate: function() {}        //  Callback after validate
    onReset: function() {}              //  Callback on reset
}</pre>
</code>

<h2>Ejemplo de configuración</h2>

<code>
	<pre name="code" class="js">
$("#Foobar").string({ // Check for a valid email format smaller than 20 chars
    email: true,
    maxLength: 20,
    messages: {
        email: "This must be a valid email!",
        maxLength: "Please no more than 20 chars."
    }
});</pre>
</code>

<h2>Interfaces disponibles</h2>

<p><strong>Number</strong></p>
<code>
    <pre name="code" class="js">var foo = $("#Foobar").number("This must be a valid number.");</pre>
</code> 
<p><strong>max</strong></p>
<code>
    <pre name="code" class="js">var foo = $("#Foobar").max(20, "The max value is 20.");</pre>
</code> 
<p><strong>min</strong></p>
<code>
    <pre name="code" class="js">var foo = $("#Foobar").min(10, "The min value is 10.");</pre>
</code>
<p><strong>price</strong></p>
<code>
    <pre name="code" class="js">var foo = $("#Foobar").price("A valid price please: 9,99");</pre>
</code>


<h2>Múltiples validaciones</h2>

<p>Todo componente perteneciente al a familia <a href="watcher.html">Watcher</a> tiene la habilidad de concatenar validaciones de distintos tipos en un mismo campo de formulario con el método <strong>and()</strong>. Esto nos permite hacer distintas validaciones sobre un dato, como por ejemplo comprobar que el valor de un campo requerido sea un número:</p>

<code>
    <pre name="code" class="js"> // Check for a valid email format smaller than 20 chars
$(".foo").number().and().required("Please no more than 20 chars.");</pre>
</code>

<div class="box">

    <p><span class="ico attention" style="float:left;margin:0 2px 0 0"></span> Existe un caso no soportado por este componente. Cuando se realiza una query al <abbr title="Document Object Model">DOM</abbr> de múltiples resultados, por ejemplo:</p>
    <code>
        <pre name="code" class="js">$(".foobar").min(13).and().max(20);</pre>
    </code>
    <p>La selección <strong>".foobar"</strong> es una clase que puede estar repetida, si esa query me devuelve mas de un resultado, el <a href="../factory">Factory</a> object me va a devolver una <em>Collección</em> de resultados, por ende el método <strong>.and()</strong> queda obsoleto. Este caso puede llegar a ser soportado en próximas versiones de Chico-UI.</p>
    
</div>

<h2>Objeto público</h2>

<p>Cada vez que se instancia un componente de la familia <a href="watcher.html" lang="en">Watcher</a> éste retorna un objeto público de control que nos brinda información sobre la instancia y nos permite ejecutar algunos métodos públicos.</p>

<code>
	<pre name="code" class="js">
// It returns
foo = {
    uid: 121,                         //  Global number instance
    element: HTMLInputElement,        //  Input DOM Interface
    type: "watcher",                  //  Component Type
    types: "number, max, min...       //  All the possible interfaces
    reference: HTMLElement            //  Helpers reference
    helper: ui.Helper                 //  UI Component to show messages 
    status: boolean,                  //  Status
    reference: HTMLInputElement,      //  Positioner reference
    parent: HTMLFormElement,          //  Form parent
    conditions: {                     //  Conditions Map (logic)
        ...
    },
    validations: {                    //  Validation Map (configuration)
        ...               
    },
    messages:{},                      //  Messages Map
    active(),                         //  Returns true if some of the validation is 'active'
    and(),                            //  Concatenate method 
    reset(),                          //  Reset the value
    validate(),                       //  Execute the configured validations
    enable(),                         //  Stop ignoring configured validation
    disable(),                        //  Start ignoring configured validations
    refresh(),                        //  Refresh the helper's position</pre>
</code>


<h2>Ejemplos</h2>

<div class="example">
    
   <h3>Validación de valor máximo</h3>
    
    <form action="test.html" class="c1">
        <fieldset>
            <ol>
                <li class="fieldBox">
                    <label class="required" for="c1_horas">
                        <span>Hora de entrega: <em>*</em></span>                                                    
                        <input type="email" id="c1_horas" required="required" value="25">
                    </label>
                    <p class="help">Escribe una descripción corta y clara</p>
                </li>
            </ul>
        </fieldset>
                
        <p class="actions">
            <input type="submit" value="Enviar" class="btn primary">
            <a href="#">Cancelar</a>
        </p>
    </form>

    <p>En la configuración de los campos podemos conbinar con el método <strong lang="en">and()</strong> con otras interfaces del componente <a href="watchers.html" lang="en">Watchers</a> como la validación de campo requerido <a href="required" lang="en">Required</a>.

	<code>
		<pre name="code" class="js">
$(".c1").forms();
$("#c1_horas").max(24).and().required();</pre>
	</code>
	
	<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
	
	<code>
		<pre name="code" class="xml">
<form action="test.html" class="c1">
    <fieldset>
        <ol>
            <li class="fieldBox">
                <label class="required" for="c1_horas">
                    <span>Hora de entrega: <em>*</em></span>                                                    
                    <input type="email" id="c1_horas" required="required" value="25">
                </label>
                <p class="help">Escribe una descripción corta y clara</p>
            </li>
        </ul>
    </fieldset>
            
    <p class="actions">
        <input type="submit" value="Enviar" class="btn primary">
        <a href="#">Cancelar</a>
    </p>
</form></pre>
	</code>
</div>

<div class="example">
	
    <h3>Validando valor mínimo</h3>
    
    <form action="test.html" class="c2">
        <fieldset>
            <ol>
                <li class="fieldBox">
                    <label for="c2_edad">
                        <span>Edad:</span>
                        <input type="text" id="c2_edad" value="6">
                    </label>
                    <p class="help">Escribe una descripción corta y clara</p>
                </li>
            </ul>
        </fieldset>
                
        <p class="actions">
            <input type="submit" value="Enviar" class="btn primary">
            <a href="#">Cancelar</a>
        </p>
    </form>
	
	<p>Para ejecutar un layer en el click de un elemento, es necesario especificar dicho comportamiento dentro del objeto de configuración:</p>
			
	<code>
		<pre name="code" class="js">
$(".c2").forms();
$(" #c2_edad").min(13);</pre>
	</code>
	
	<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
	
	<code>
		<pre name="code" class="xml">
<form action="test.html" class="c2">
    <fieldset>
        <ol>
            <li class="fieldBox">
                <label for="c2_edad">
                    <span>Edad:</span>
                    <input type="text" id="c2_edad" value="6">
                </label>
                <p class="help">Escribe una descripción corta y clara</p>
            </li>
        </ul>
    </fieldset>
            
    <p class="actions">
        <input type="submit" value="Enviar" class="btn primary">
        <a href="#">Cancelar</a>
    </p>
</form></pre>
	</code>
</div>

<div class="example">
    
    <h3>Validando precio</h3>
    
    <form action="test.html" class="c2">
        <fieldset>
            <ol>
                <li class="fieldBox">
                    <label for="c3_price">
                        <span>Precio:</span>
                        <input type="text" id="c3_price">
                    </label>
                    <p class="help">Ingresa un precio válido: 9,99</p>
                </li>
            </ul>
        </fieldset>
                
        <p class="actions">
            <input type="submit" value="Enviar" class="btn primary">
            <a href="#">Cancelar</a>
        </p>
    </form>
    
    <code>
        <pre name="code" class="js">
$(".c3").forms();
$("#c3_price").price("Este precio no es válido, usa un formato 9,99 o 9.99");</pre>
    </code>
    
    <p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
    
    <code>
        <pre name="code" class="xml">
<form action="test.html" class="c2">
    <fieldset>
        <ol>
            <li class="fieldBox">
                <label for="c3_price">
                    <span>Precio:</span>
                    <input type="text" id="c3_price">
                </label>
                <p class="help">Ingresa un precio válido: 9,99</p>
            </li>
        </ul>
    </fieldset>
            
    <p class="actions">
        <input type="submit" value="Enviar" class="btn primary">
        <a href="#">Cancelar</a>
    </p>
</form></pre>
    </code>
</div>


<script>
	ui.codelighter();

    $(".sourceTabs").tabNavigator();

        // Define a Form Controller
        var form = $('.demoForm').form({
            messages: {
                required: "Default message for required validation",
                min: "Default message for min validation",
                max: "Default message for max validation"
            }
        });
        var email = $('#val_num')
                        .min(13,"No less than 13.")
                        .and()
                        .max(20)
                        .and()
                        .required();

    /* Case 1 */

    $(".c1").form();
    $("#c1_horas").max(24).and().required();
   

    /* Case 2 */

    $(".c2").form();
    $("#c2_edad").min(13);


    /* Case 3 */

    $(".c3").form();
    $("#c3_price").price("Este precio no es válido, usa un formato 9,99 o 9.99");
        
</script>



</body>
</html>
