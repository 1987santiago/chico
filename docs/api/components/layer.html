<!doctype html>
<!--[if IE]><![endif]-->
<!--[if lt IE 7 ]> <html lang="es" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="es" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="es" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="es" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="es" class="no-js"> <!--<![endif]-->
<head>
        <script></script> <!-- Avoid script blocking -->
        <meta charset="utf-8">
        <title>Contextual Layer</title>
        <link rel="stylesheet" href="../../../build/chico-min-0.5.5.css"> <!-- Chico-UI Core Style Sheet -->
        <link rel="stylesheet" href="../../../src/css/grid.css">
        <!--[if lt IE 7 ]>
            <script src="../../libs/js/dd_belatedpng.js"></script>
            <script> DD_belatedPNG.fix('img, .ico'); //fix any <img> or .ico background-images </script>
        <![endif]-->
        <script src="../../../libs/js/jquery.js"></script>
		<script src="../../../build/chico-min-0.5.5.js"></script>
    <head>
<body>



<h1>Contextual Layer</h1>

<div class="sourceTabs">
	<ul>
		<li><a href="#demo">Demo</a></li>
		<li><a href="#html">Html</a></li>
		<li><a href="#js">JavaScript</a></li>
	</ul>
	<div>
		<div id="demo">
			<strong class="demoLayerOnmouseover">Drag cursor over me!!</strong>
		</div>
		
		<div id="html">
			<code>
				<pre name="code" class="xml"><span class="demoLayerOnmouseover">Drag cursor over me!!</span></pre>
			</code>
		</div>
		
		<div id="js">
			<code>
				<pre name="code" class="js">$(".demoLayerOnmouseover").layer("Thank you.");</pre>
			</code>
		</div>
	</div>
</div>

<div class="box">
	<h2>Cómo se usa</h2>
	
	<p>El objecto Contextual Layer pertenece a la familia Floats (al igual que <a href="modal.html" lang="en">Modal window</a> y <a href="tooltip.html" lang="en">Tooltip</a>). Recibe como argumento un objeto de propiedades para su funcionamiento, contenido o para los <em lang="en">callbacks</em>.</p>
	
	<p>Realizando una selección con jQuery podemos iniciar el componente de la siguiente forma:</p>
	
	<code>
		<pre name="code" class="js">$(".foo").layer();</pre>
	</code>
	
	<p>Objeto de configuración:</p>
	
	<code>
		<pre name="code" class="js">
{
	content: string,					// HTML markup or query string to get content. For example "<p>content</p>", "#Foobar", etc.
	ajax: string,					   // URL to get content
	cache: boolean,					 // Content cacheable (Only one request per layer). Default "true"
	event: string,					  // "click" define a click triggered layer
	onShow: function() {},    		  // Callback executed after show layer
	onHide: function() {},			  // Callback executed before hide layer
	onContentLoad: function() {},	   // Callback executed on success of content loaded via ajax
	onContentError: function() {} 	  // Callback executed on fail of content loaded via ajax
	offset: string,					 // Positioner configuration. Default "0 10"
	points: string,					 // Positioner configuration. Default "lt lb"
	hold: boolean					   // Positioner configuration. Default "false"
}</pre>
	</code>
	
	<p>Ejemplo:</p>
	
	<code>
		<pre name="code" class="js">
$(".foo").layer({
	content: "Lorem ipsum dolor sit amet, consectetur adipiscing elite.",
	event: "click"
});</pre>
	</code>
	
	<p>Otra forma de iniciarlo es utilizando la siguiente sintaxis:</p>
	
	<code>
		<pre name="code" class="js">$(".foo").layer("Lorem ipsum dolor sit amet, consectetur adipiscing elite.");</pre>
	</code>
	   
	<p>Cada vez que se instancia un componente Contextual Layer retorna un objecto público de control que nos brinda información sobre la instancia.</p>
	
	<code>
		<pre name="code" class="js">
var foo = $(".foo").layer();

// It returns
foo = {
	uid: 121,                         //  Global number instance
	element: HTMLElement,        	 //  DOM Interface
	type: "layer",                    //  Component Type
	content: string,				  //  Get content
	position(),					   //  Get, set and refresh position
	show(),						   //  Show layer
	hide()						    //  Hide layer
}</pre>
	</code>
	
	<p>El método público position() puede ser utilizado para:</p>
	
	<p>1. Obtener la configuración actual de posicionamiento.</p>
	<code>
		<pre name="code" class="js">
foo.position();					   //  Get position</pre>
	</code>
	
	<p>2. Actualizar la posición del elemento.</p>
	<code>
		<pre name="code" class="js">
foo.position("refresh");			  //  Refresh position</pre>
	</code>
	
	<p>3. Setear una nueva configuración para el <a href="../core/positioner.html">posicionamiento</a> del elemento.</p>
	<code>
		<pre name="code" class="js">
foo.position({ 					   //  Set new position
	context: $(element),
	offset: string,
	points: string,
	fixed: boolean
});</pre>
	</code>
</div>

<div class="box">
	<h2>Ejemplos</h2>
	
	<div class="container">
		<h3>1. Contextual Layer ejecutado en mouseover (comportamiento predeterminado)</h3>
		
		<div class="container">
			<strong class="example1">Drag cursor over me.</strong>
		</div>
		
		<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
		
		<code>
			<pre name="code" class="xml"><span class="example1">Drag cursor over me.</span></pre>
		</code>
		
		<p>El layer ejecutado en el mouseover es el comportamiento predeterminado de este componente. Es decir que no es necesario iniciar un Layer con un objeto de configuración, sino que puede iniciarse solo indicandose un contenido de la siguiente manera:</p>
				
		<code>
			<pre name="code" class="js">$(".example1").layer("Contextual Layer ejecutado en mouseover (comportamiento predeterminado)");</pre>
		</code>
	</div>
	
	<hr>
	
	<div class="container">
		<h3>2. Contextual Layer ejecutado en el click</h3>
		
		<div class="container">
			<strong class="example2">Click me.</strong>
		</div>
		
		<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
		
		<code>
			<pre name="code" class="xml"><span class="example2">Click me.</span></pre>
		</code>
		
		<p>Para ejecutar un layer en el click de un elemento, es necesario especificar dicho comportamiento dentro del objeto de configuración:</p>
				
		<code>
			<pre name="code" class="js">
$(".example2").layer({
	event: "click",
	content: "Contextual Layer ejecutado en el click"
});</pre>
		</code>
	</div>
	
	<hr>
	
	<div class="container">
		<h3>3. Contenido HTML, cargado con el atributo "content"</h3>
		
		<div class="container">
			<strong class="example3">Drag cursor over me.</strong>
		</div>
		
		<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
		
		<code>
			<pre name="code" class="xml"><span class="example3">Drag cursor over me.</span></pre>
		</code>
		
		<p>Para ejecutar un layer con un determinado contenido, es posible invocar al atributo "content":</p>
				
		<code>
			<pre name="code" class="js">
$(".example3").layer({
	content: "Contenido HTML, cargado con el atributo content"
});</pre>
		</code>
		
		<p>Otra forma de hacerlo es sin un objeto de configuración (Ver ejemplo 5).</p>
	</div>
	
	<hr>
	
	<div class="container">
		<h3>4. Contenido a partir de un elemento DOM</h3>
		
		<div class="container">
			<strong class="example4">Drag cursor over me.</strong>
		</div>
		
		<p id="contentForLayer" style="display:none">Contenido de un elemento DOM</p>
		
		<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
		
		<code>
			<pre name="code" class="xml">
<span class="example4">Drag cursor over me.</span>

<p id="contentForLayer" style="display:none">Contenido de un elemento DOM</p></pre>
		</code>
		
		<p>Es posible ejecutar un layer con el contenido de un elemento que se encuentra oculto o no en el DOM, utilizando el atributo "content":</p>
		
		<code>
			<pre name="code" class="js">
$(".example4").layer({
	content: "#contentForLayer"
});</pre>
		</code>
		
		<p>Otra forma de hacerlo es sin un objeto de configuración (Ver ejemplo 5).</p>
	</div>
	
	<hr>
	
	<div class="container">
		<h3>5. Contenido HTML, cargado sin objeto de configuración</h3>
		
		<div class="container">
			<strong class="example5">Drag cursor over me.</strong>
		</div>
		
		<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
		
		<code>
			<pre name="code" class="xml"><span class="example5">Drag cursor over me.</span></pre>
		</code>
		
		<p>Otra forma de ejecutar un layer con un determinado contenido, es sin especificar un objeto de configuración.</p>
				
		<code>
			<pre name="code" class="js">
$(".example5").layer("Contenido HTML, cargado sin objeto de configuración");</pre>
		</code>
		
		<p><strong>Este método es equivalente a utilizar el atributo de configuración "content"</strong> (Ver ejemplos 3 y 4).</p>
	</div>
	
	<hr>
	
	<div class="container">
		<h3>6. Contenido cargado por Ajax</h3>
		
		<div class="container">
			<strong class="example6">Drag cursor over me.</strong>
		</div>
		
		<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
		
		<code>
			<pre name="code" class="xml"><span class="example6">Drag cursor over me.</span></pre>
		</code>
		
		<p>Es posible cargar el contenido de un layer asincrónicamente, especificando en el atributo "ajax" la URL de donde se deberá obtener el contenido:</p>
		
		<code>
			<pre name="code" class="js">
$(".example6").layer({
	ajax: "ajax.html"
});</pre>
		</code>
		
		<p>El atributo de configuración "ajax" no puede coexistir con el atributo "content".</p>
	</div>
	
	<hr>
	
	<div class="container">
		<h3>7. Callbacks al mostrarse y ocultarse</h3>
		
		<div class="container">
			<strong class="example7">Click me.</strong>
		</div>
		
		<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
		
		<code>
			<pre name="code" class="xml"><span class="example7">Click me.</span></pre>
		</code>
		
		<p>El callback <strong>onShow()</strong> se ejecuta luego de mostrarse el Layer, mientras que el callback <strong>onHide()</strong> se ejecuta antes de ocultarse el componente:</p>
		
		<code>
			<pre name="code" class="js">
$(".example7").layer({
	event: "click",
	content: "Callbacks al mostrarse y ocultarse",
	onShow: function() {
		alert("Callback onShow");
	},
	onHide: function() {
		alert("Callback onHide");
	}
});</pre>
		</code>
	</div>
	
	<hr>
	
	<div class="container">
		<h3>8. Callback para cuando el contenido por Ajax es cargado <em>correctamente</em>.</h3>
		
		<div class="container">
			<strong class="example8">Click me.</strong>
		</div>
		
		<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
		
		<code>
			<pre name="code" class="xml"><span class="example8">Click me.</span></pre>
		</code>
		
		<p>Cargando el contenido por Ajax, existe la posibilidad de utilizar el callback <strong>onContentLoad</strong> que se dispara luego de que el contenido se cargó de forma correcta:</p>
		
		<code>
			<pre name="code" class="js">
$(".example8").layer({
	ajax: "ajax.html",
	event: "click",
	onContentLoad: function() {
		alert("Callback onContentLoad");
	}
});</pre>
		</code>
	</div>
	
	<hr>
	
	<div class="container">
		<h3>9. Callback para cuando el contenido por Ajax es cargado de forma <em>incorrecta</em>.</h3>
		
		<div class="container">
			<strong class="example9">Click me.</strong>
		</div>
		
		<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
		
		<code>
			<pre name="code" class="xml"><span class="example9">Click me.</span></pre>
		</code>
		
		<p>Cargando el contenido por Ajax, existe la posibilidad de utilizar el callback <strong>onContentError</strong> que se dispara cuando existe un error en el llamado de Ajax.</p>
		
		<p>Para este ejemplo se utilizó la URL "http://www.google.com" para forzar un error.</p>
		
		<code>
			<pre name="code" class="js">
$(".example9").layer({
	ajax: "http://www.google.com",
	event: "click",
	onContentError: function() {
		alert("Callback onContentError");
	}
});</pre>
		</code>
	</div>
	
	<hr>
	
	<div class="container">
		<h3>10. Reposicionamiento</h3>
		
		<div class="container">
			<strong class="example10">Drag cursor over me.</strong>
		</div>
		
		<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
		
		<code>
			<pre name="code" class="xml"><span class="example10">Drag cursor over me.</span></pre>
		</code>
		
		<p>En este componente existe la posibilidad de modificar el <a href="../core/positioner.html">posicionamiento</a> el elemento emergente, mediante el método público <strong>position</strong>:</p>
				
		<code>
			<pre name="code" class="js">
var layerToBePositioned = $(".example10").layer("Layer reposicionado");

layerToBePositioned.position({
	points: "lt rt",
	offset: "10 -10"
});</pre>
		</code>
	</div>
</div>


<script>
	ui.codelighter();

    $(".sourceTabs").tabNavigator();
    
    $(".demoLayerOnmouseover").layer("Thank you.");
    
    $(".example1").layer("Contextual Layer ejecutado en mouseover (comportamiento predeterminado)");
    
    $(".example2").layer({
		event: "click",
		content: "Contextual Layer ejecutado en el click"
	});
	
	$(".example3").layer({
		content: "Contenido HTML, cargado con el atributo content"
	});
	
	$(".example4").layer({
		content: "#contentForLayer"
	});
	
	$(".example5").layer("Contenido HTML, cargado sin objeto de configuración");
	
	$(".example6").layer({
		ajax: "ajax.html"
	});
	
	$(".example7").layer({
		event: "click",
		content: "Callbacks al mostrarse y ocultarse",
		onShow: function() {
			alert("Callback onShow");
		},
		onHide: function() {
			alert("Callback onHide");
		}
	});
	
	$(".example8").layer({
		ajax: "ajax.html",
		event: "click",
		onContentLoad: function() {
			alert("Callback onContentLoad");
		}
	});
	
	$(".example9").layer({
		ajax: "http://www.google.com",
		event: "click",
		onContentError: function() {
			alert("Callback onContentError");
		}
	});
	
	var layerToBePositioned = $(".example10").layer("Layer reposicionado");

	layerToBePositioned.position({
		points: "lt rt",
		offset: "10 -10"
	});
	
</script>



</body>
</html>
