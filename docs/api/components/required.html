<!doctype html>
<!--[if IE]><![endif]-->
<!--[if lt IE 7 ]> <html lang="es" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="es" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="es" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="es" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="es" class="no-js"> <!--<![endif]-->
<head>
        <script></script> <!-- Avoid script blocking -->
        <meta charset="utf-8">
        <title>Required extends Watcher</title>
        <link rel="stylesheet" href="../../../build/chico-min-0.5.5.css"> <!-- Chico-UI Core Style Sheet -->
        <link rel="stylesheet" href="../../docs.css">
        <link rel="stylesheet" href="../../../src/css/grid.css">
        <!--[if lt IE 7 ]>
            <script src="../../libs/js/dd_belatedpng.js"></script>
            <script> DD_belatedPNG.fix('img, .ico'); //fix any <img> or .ico background-images </script>
        <![endif]-->
        <script src="../../../libs/js/jquery.js"></script>
		<script src="../../../build/chico-min-0.5.5.js"></script>
    </head>
<body>



<h1>Required</h1>

<div class="sourceTabs">
	<ul>
		<li><a href="#demo">Demo</a></li>
		<li><a href="#html">HTML</a></li>
		<li><a href="#js">JavaScript</a></li>
	</ul>
	<div>
		<div id="demo">
		    
<form action="test.html" class="demoForm">
    <fieldset>
        <ul>
            <li class="fieldBox">
                <label class="required" for="demoEmail">
                    <span>E-mail: <em>*</em></span>                                                 
                    <input type="email" id="demoEmail" required="required">
                </label>
                <p class="help">Escribe una descripción corta y clara</p>
            </li>
        </ul>
    </fieldset>
            
    <p class="actions">
        <input type="submit" value="Enviar" class="btn primary">
        <a href="#">Cancelar</a>
    </p>
</form>

		</div>
		
		<div id="html">
			<code>
				<pre name="code" class="xml">
<form action="test.html" class="demoForm">
    <fieldset>
        <ul>
            <li class="fieldBox">
                <label class="required" for="demoEmail">
                    <span>E-mail: <em>*</em></span>                                                 
                    <input type="email" id="demoEmail" required="required">
                </label>
                <p class="help">Escribe una descripción corta y clara</p>
            </li>
        </ul>
    </fieldset>
            
    <p class="actions">
        <input type="submit" value="Enviar" class="btn primary">
        <a href="#">Cancelar</a>
    </p>
</form></pre>
			</code>
		</div>
		
		<div id="js">
			<code>
				<pre name="code" class="js">// Define a Form Controller
var form = $('.demoFrom').form({
	messages: {
		email: "Default message for email validation.",
		minLength: "Default message for minLength validation",
		required: "Default message for required validation"
	}
});

var validation = $('#demoEmail')
    .email("This must be a valid email.")
    .and()
    .minLength(20, "You miss some characters, try 10 as minimum.")
    .and()
    .required();</pre>
			</code>
		</div>
	</div>
</div>

<div class="box">

    
<h2>Cómo se usa</h2>

<p>El objeto Required es un componente dentro de la familia <a href="watcher.html" lang="en">Watcher</a> donde se pueden declarar que campos o grupos de formularios sean requeridos para efectuar un <em lang="en">submit</em>. Recibe como argumento un objeto de propiedades que definen algunos aspecto de su comportamiento como los <em lang="en">callbacks</em>.</p>	

<p>Este componente extiende su funcionalidad del componente Watcher (al igual que <a href="number.html">Number</a>, <a href="string.html">String</a> y <a href="custom.html">Custom</a>).</p>

<p><em>Nota:</em> Es recomendable instanciar un objeto <a href="form.html" lang="en">Form</a> antes de configurar componentes de la familia <a href="watcher.html" lang="en">Watcher</a>.</p>

<p>Realizando una selección con jQuery podemos iniciar el componente de la siguiente forma:</p>

<code>
	<pre name="code" class="js">$(".foo").required("validation message");</pre>
</code>
</div>

<div class="box">
<h2>Configuración</h2>

<p>La mayoría de los componentes pueden recibir parámetros de configuración, que modifican el comportamiento por defecto.</p>

<p>Objeto de configuración:</p>

<code>
	<pre name="code" class="js">
{
    required: boolean,                  //  Config a required validation
    messages: {                         //  Messages Map
        required: string
    },
    beforeValidate: function() {},      //  Callback before validate
    afterValidate: function() {},       //  Callback after validate
    onReset: function() {}              //  Callback on reset
}</pre>
</code>
</div>

<div class="box">
<h2>Ejemplo de configuración</h2>

<code>
	<pre name="code" class="js">
$(".foo").required({
	required: true,
	messages: {
	    required: "This field is required!"
	},
	beforeValidate: function() {
	    if ( some_global_condition ) {
	        this.disable();
	    }
	}
});</pre>
</code>
    
<p>Existe otra forma mas ágil de configurar una validaciones de campos requeridos:</p>

<code>
    <pre name="code" class="js">
$(".foo").required("This field is required!");</pre>
</code>
</div>

<div class="box">
<h2>Múltiples validaciones</h2>

<p>Todo componente perteneciente al a familia <a href="watcher.html">Watcher</a> tiene la habilidad de concatenar validaciones de distintos tipos en un mismo campo de formulario con el método <strong>and()</strong>. Esto nos permite hacer distintas validaciones sobre un dato, como por ejemplo comprobar que el valor de un campo requerido sea un número:</p>

<code>
    <pre name="code" class="js">
$(".foo").required("This field is required!").and().number("This filed must be a number!");</pre>
</code>
</div>

<div class="box">
<h2>Objeto público</h2>

<p>Cada vez que se instancia un componente de la familia <a href="watcher.html" lang="en">Watcher</a> éste retorna un objeto público de control que nos brinda información sobre la instancia y nos permite ejecutar algunos métodos públicos.</p>

<code>
	<pre name="code" class="js">
// It returns
foo = {
    uid: 121,                         //  Global number instance
    element: HTMLInputElement,        //  Input DOM Interface
    type: "watcher",                  //  Component Type
    types: string,                    //  All the possible interfaces
    reference: HTMLElement            //  Helpers reference
    helper: ui.Helper                 //  UI Component to show messages 
    status: boolean,                  //  Status
    reference: HTMLInputElement,      //  Positioner reference
    parent: HTMLFormElement,          //  Form parent
    conditions: {                     //  Conditions Map (logic)
        ...
    },
    validations: {                    //  Validation Map (configuration)
        ...               
    },
    messages:{},                      //  Messages Map
    active(),                         //  Returns true if some of the validation is 'active'
    and(),                            //  Concatenate method 
    reset(),                          //  Reset the value
    validate(),                       //  Execute the configured validations
    enable(),                         //  Stop ignoring configured validation
    disable(),                        //  Start ignoring configured validations
    refresh()                         //  Refresh the helper's position</pre>
</code>
</div>

<div class="box">
<h2>Ejemplos</h2>

<div class="example">
    
    <h3>Validación de campos de texto requeridos</h3>
    
    <form action="test.html" class="c1">
        <fieldset>
            <ol>
                <li class="fieldBox">
                    <label class="required" for="c1_fistname">
                        <span>First name: <em>*</em></span>                                                 
                        <input type="email" id="c1_fistname" required="required">
                    </label>
                    <p class="help">Escribe una descripción corta y clara</p>
                </li>
                <li class="fieldBox">
                    <label class="required" for="c1_middlename">
                        <span>Middle name: <em>*</em></span>                                                    
                        <input type="email" id="c1_middlename" required="required">
                    </label>
                    <p class="help">Escribe una descripción corta y clara</p>
                </li>
                <li class="fieldBox">
                    <label class="required" for="c1_lastname">
                        <span>Last name: <em>*</em></span>                                                  
                        <input type="email" id="c1_lastname" required="required">
                    </label>
                    <p class="help">Escribe una descripción corta y clara</p>
                </li>
            </ul>
        </fieldset>
                
        <p class="actions">
            <input type="submit" value="Enviar" class="btn primary">
            <a href="#">Cancelar</a>
        </p>
    </form>

    <p>Una forma rápida de instanciar validaciones requeridas para muchos campos al mismo tiempo es utilizar un selector múltiple y una configuración por defecto de la siguiente manera:</p>

	<code>
		<pre name="code" class="js">$("#c1_fistname, #c1_middlename, #c1_lastname").required("You must complete this field!");</pre>
	</code>
	
	<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
	
	<code>
		<pre name="code" class="xml">
<form action="test.html" class="c1">
    <fieldset>
        <ol>
            <li class="fieldBox">
                <label class="required" for="c1_fistname">
                    <span>First name: <em>*</em></span>                                                 
                    <input type="email" id="c1_fistname" required="required">
                </label>
                <p class="help">Escribe una descripción corta y clara</p>
            </li>
            <li class="fieldBox">
                <label class="required" for="c1_middlename">
                    <span>Middle name: <em>*</em></span>                                                    
                    <input type="email" id="c1_middlename" required="required">
                </label>
                <p class="help">Escribe una descripción corta y clara</p>
            </li>
            <li class="fieldBox">
                <label class="required" for="c1_lastname">
                    <span>Last name: <em>*</em></span>                                                  
                    <input type="email" id="c1_lastname" required="required">
                </label>
                <p class="help">Escribe una descripción corta y clara</p>
            </li>
        </ul>
    </fieldset>
            
    <p class="actions">
        <input type="submit" value="Enviar" class="btn primary">
        <a href="#">Cancelar</a>
    </p>
</form></pre>
	</code>
</div>



<div class="example">
	
    <h3>2. Validando listas de selección requeridas</h3>
    
    <form action="test.html" class="c2">
        <fieldset>
        <legend>Casos de uso de Select</legend>
        <ul>
            <li class="fieldBox">
                <label for="c2_selectM">
                    <span>Campo múltiple:</span>
                    <select id="c2_selectM" multiple="multiple" size="4">
                        <option value="1">Opción 1</option>
                        <option value="2">Opción 2</option>
                        <option value="3">Opción 3</option>
                        <option value="4">Opción 4</option>
                    </select>
                </label>
            </li>
            
            <li class="fieldBox">
                <label for="c2_selectS">
                    <span>Campo común:</span>
                    <select id="c2_selectS">
                        <option value="-1">Selecciona...</option>
                        <option value="1">Opción 1</option>
                        <option value="2">Opción 2</option>
                        <option value="3">Opción 3</option>
                        <option value="4">Opción 4</option>
                    </select>
                </label>
            </li>
        </fieldset>
                        
        <p class="actions">
            <input type="submit" value="Enviar" class="btn primary">
            <a href="#">Cancelar</a>
        </p>
    </form>
	
	<p>Para ejecutar un layer en el click de un elemento, es necesario especificar dicho comportamiento dentro del objeto de configuración:</p>
			
	<code>
		<pre name="code" class="js">
$('.c2').form();
$('#c2_selectM, #c2_selectS').required("You must complete this field!");</pre>
	</code>
	
	<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
	
	<code>
		<pre name="code" class="xml">
<form action="test.html" class="c2">
    <fieldset>
    <legend>Casos de uso de Select</legend>
    <ul>
        <li class="fieldBox">
            <label for="c2_selectM">
                <span>Campo múltiple:</span>
                <select id="c2_selectM" multiple="multiple" size="4">
                    <option value="1">Opción 1</option>
                    <option value="2">Opción 2</option>
                    <option value="3">Opción 3</option>
                    <option value="4">Opción 4</option>
                </select>
            </label>
        </li>
        
        <li class="fieldBox">
            <label for="c2_selectS">
                <span>Campo común:</span>
                <select id="c2_selectS">
                    <option value="-1">Selecciona...</option>
                    <option value="1">Opción 1</option>
                    <option value="2">Opción 2</option>
                    <option value="3">Opción 3</option>
                    <option value="4">Opción 4</option>
                </select>
            </label>
        </li>
    </fieldset>
                    
    <p class="actions">
        <input type="submit" value="Enviar" class="btn primary">
        <a href="#">Cancelar</a>
    </p>
</form></pre>
	</code>
</div>



<div class="example">
    
    <h3>3. Validando grupos de checkboxes requeridos</h3>
    
    <form action="test.html" class="c3">
        <fieldset>
            <legend>Legend de grupo obligatorio <em>*</em></legend>
            <div class="c3_check options required">
                <ul>
                    <li class="fieldBox">
                        <label for="c3_check2a">
                            <input type="checkbox" value="alpha" id="c3_check2a" name="version2">
                            <span>Alpha</span>
                        </label>
                    </li>
    
                    <li class="fieldBox">
                        <label for="c3_check2b">
                            <input type="checkbox" value="beta" id="c3_check2b" name="version2">
                            <span>Beta</span>
                        </label>
                    </li>
                </ul>
            </div>
        </fieldset>
                        
        <p class="actions">
            <input type="submit" value="Enviar" class="btn primary">
            <a href="#">Cancelar</a>
        </p>
    </form>
	
	<p>Para ejecutar un layer con un determinado contenido, es posible invocar al atributo "content":</p>
			
	<code>
		<pre name="code" class="js">
$('.c3').form();
$('.c3_check').required("You must complete this field!");</pre>
	</code>
		
	<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
	
	<code>
		<pre name="code" class="xml">
<form action="test.html" class="c3">
    <fieldset>
        <legend>Legend de grupo obligatorio <em>*</em></legend>
        <div class="c3_check options required">
            <ul>
                <li class="fieldBox">
                    <label for="c3_check2a">
                        <input type="checkbox" value="alpha" id="c3_check2a" name="version2">
                        <span>Alpha</span>
                    </label>
                </li>

                <li class="fieldBox">
                    <label for="c3_check2b">
                        <input type="checkbox" value="beta" id="c3_check2b" name="version2">
                        <span>Beta</span>
                    </label>
                </li>
            </ul>
        </div>
    </fieldset>
                    
    <p class="actions">
        <input type="submit" value="Enviar" class="btn primary">
        <a href="#">Cancelar</a>
    </p>
</form></pre>
	</code>
</div>



<div class="example">
    
    <h3>4. Validando grupos de radios requeridos</h3>
    
    <form action="test.html" class="c4">
        <fieldset>
            <legend>Radio buttons obligatorios <em>*</em></legend>
            <div class="c4_radio options required">
                <ul>
                    <li class="fieldBox">
                        <label for="c4_radio2a">
                            <input type="radio" value="alpha" id="c4_radio2a" name="version5">
                            <span>Alpha</span>
                        </label>
                    </li>
    
                    <li class="fieldBox">
                        <label for="c4_radio2b">
                            <input type="radio" value="beta" id="c4_radio2b" name="version5">
                            <span>Beta</span>
                        </label>
                    </li>
                </ul>
            </div>
        </fieldset>
                    
        <p class="actions">
            <input type="submit" value="Enviar" class="btn primary">
            <a href="#">Cancelar</a>
        </p>
    </form>
    	
	<p>Es posible ejecutar un layer con el contenido de un elemento que se encuentra oculto o no en el DOM, utilizando el atributo "content":</p>
	
	<code>
		<pre name="code" class="js">
$('.c4').form();
$('.c4_radio').required("You must complete this field!");</pre>
	</code>
		
	<p>El HTML necesario para ejecutar este ejemplo es el siguiente:</p>
	
	<code>
		<pre name="code" class="xml">
<form action="test.html" class="c4">
    <fieldset>
        <legend>Radio buttons obligatorios <em>*</em></legend>
        <div class="c4_radio options required">
            <ul>
                <li class="fieldBox">
                    <label for="c4_radio2a">
                        <input type="radio" value="alpha" id="c4_radio2a" name="version5">
                        <span>Alpha</span>
                    </label>
                </li>

                <li class="fieldBox">
                    <label for="c4_radio2b">
                        <input type="radio" value="beta" id="c4_radio2b" name="version5">
                        <span>Beta</span>
                    </label>
                </li>
            </ul>
        </div>
    </fieldset>
                
    <p class="actions">
        <input type="submit" value="Enviar" class="btn primary">
        <a href="#">Cancelar</a>
    </p>
</form></pre>
	</code>
</div>
</div>


<script>
	ui.codelighter();

    $(".sourceTabs").tabNavigator();

    var form = $('.demoFrom').form({
          messages: {
              email: "Default message for email validation.",
              minLength: "Default message for minLength validation",
              required: "Default message for required validation"
          }
    });
    
    var validation = $('#demoEmail')
        .email("This must be a valid email.")
        .and()
        .minLength(20,"You miss some characters, try 10 as minimum.")
        .and()
        .required();
    
    // Example 1
    $('.c1').form();
    $("#c1_fistname, #c1_middlename, #c1_lastname").required("You must complete this field!");

    // Example 2
    $('.c2').form();
    $('#c2_selectM, #c2_selectS').required("You must complete this field!");

    // Example 3
	$('.c3').form();
    $('.c3_check').required("You must complete this field!");

    // Example 4
	$('.c4').form();
    $('.c4_radio').required("You must complete this field!");
    
</script>



</body>
</html>
